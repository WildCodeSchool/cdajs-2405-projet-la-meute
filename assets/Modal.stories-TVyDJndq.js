import{j as n}from"./jsx-runtime-DR9Q75dM.js";import{B as p}from"./Button-CWYPkdYa.js";import{r as c,R as l}from"./index-DRjF_FHU.js";import"./index-D0-1SKyy.js";const m=""+new URL("logo-pawplanner-symbol-beige-BK9ukH99.svg",import.meta.url).href;function f({variant:a="confirm",type:t="info",children:s,isOpen:o,onClose:r,filePreview:d=null}){const g=c.useRef(null),[u,h]=c.useState(null),x={success:m,info:m,warning:m},v=l.Children.toArray(s).filter(e=>l.isValidElement(e)&&e.type==="p"),y=l.Children.toArray(s).filter(e=>l.isValidElement(e)&&e.type===p);if(v.length===0||y.length===0)throw new Error("Modal requires both a paragraph (<p>) and a Button component as children");c.useEffect(()=>{const e=g.current;e&&(o?e.showModal():e.close())},[o]),c.useEffect(()=>{if(d){const e=URL.createObjectURL(d);return h(e),()=>{URL.revokeObjectURL(e)}}h(null)},[d]);const j=e=>{const i=e.currentTarget.getBoundingClientRect();(e.clientY<i.top||e.clientY>i.bottom||e.clientX<i.left||e.clientX>i.right)&&r()};return n.jsxs("dialog",{ref:g,className:`modal modal--${t} modal--${a}`,onClick:j,onKeyDown:()=>"",children:[n.jsx("img",{src:u||x[t],alt:u?"selected file":`${t} icon`,className:"modal__picture"}),n.jsx("div",{className:"modal__prompt",children:v}),n.jsxs("div",{className:"modal__actions",children:[n.jsx("button",{type:"button",className:"modal__actions--cancel",onClick:r,children:"Annuler"}),y]})]})}f.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{variant:{required:!1,tsType:{name:"literal",value:'"confirm"'},description:"",defaultValue:{value:'"confirm"',computed:!1}},type:{required:!1,tsType:{name:"union",raw:'"success" | "info" | "warning"',elements:[{name:"literal",value:'"success"'},{name:"literal",value:'"info"'},{name:"literal",value:'"warning"'}]},description:"",defaultValue:{value:'"info"',computed:!1}},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},filePreview:{required:!1,tsType:{name:"union",raw:"File | null",elements:[{name:"File"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}}}};const k={title:"molecules/Modal",tags:["autodocs"],component:f,decorators:[a=>n.jsx("div",{style:{width:"100%"},children:n.jsx(a,{})})]},R={args:{variant:"confirm",type:"info",isOpen:!0,onClose:()=>console.log("Modal closed")}};R.render=function(t){const[s,o]=l.useState(t.isOpen),r=()=>{o(!1),t.onClose()};return n.jsxs(n.Fragment,{children:[n.jsx(p,{style:"btn-dark",onClick:()=>o(!0),children:"Ouvrir Modal"}),n.jsxs(f,{...t,isOpen:s,onClose:r,children:[n.jsx("p",{children:"Êtes-vous sûr de vouloir continuer cette action?"}),n.jsx(p,{style:"btn-dark",onClick:r,children:"Confirmer"})]})]})};const M=["ConfirmModal"];export{R as ConfirmModal,M as __namedExportsOrder,k as default};
