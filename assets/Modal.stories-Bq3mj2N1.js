import{j as n}from"./jsx-runtime-DR9Q75dM.js";import{B as m}from"./Button-CcGfgYye.js";import{r as c,R as s}from"./index-DRjF_FHU.js";import"./index-Bmt1039H.js";import"./index-CxRLcT2J.js";const u=""+new URL("logo-pawplanner-symbol-beige-BK9ukH99.svg",import.meta.url).href;function p({variant:a="confirm",type:t="info",children:o,isOpen:r,onClose:l,filePreview:d=null,customImage:f,selectMenu:g,selectPlaceholder:C,onSelectChange:h}){const i=c.useRef(null),[v,y]=c.useState(null),R={success:u,info:u,warning:u},x=s.Children.toArray(o).filter(e=>s.isValidElement(e)&&e.type==="p"),j=s.Children.toArray(o).filter(e=>s.isValidElement(e)&&e.type===m);if(x.length===0||j.length===0)throw new Error("Modal requires both a paragraph (<p>) and a Button component as children");c.useEffect(()=>{var w;const e=i.current;e&&(r?(e.showModal(),(w=i.current)==null||w.focus()):e.close())},[r]),c.useEffect(()=>{if(d){const e=URL.createObjectURL(d);return y(e),()=>{URL.revokeObjectURL(e)}}y(null)},[d]);const _=e=>{e.target===i.current&&l()},q=e=>{h&&h(e.target.value)};return n.jsxs("dialog",{ref:i,className:`modal modal--${t} modal--${a}`,onClick:_,onKeyDown:()=>"",children:[n.jsx("img",{src:v||f||R[t],alt:v?"selected file":f?"illustration":`${t} icon`,className:"modal__picture"}),n.jsx("div",{className:"modal__prompt",children:x}),g&&n.jsxs("select",{id:"selected",name:"selected",className:"modal__selectInput",onChange:q,defaultValue:"",children:[n.jsx("option",{value:"",children:C}),g.map(e=>n.jsx("option",{value:e,children:e},e))]}),n.jsx("div",{className:"modal__actions",children:j})]})}p.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{variant:{required:!1,tsType:{name:"literal",value:'"confirm"'},description:"",defaultValue:{value:'"confirm"',computed:!1}},type:{required:!1,tsType:{name:"union",raw:'"success" | "info" | "warning"',elements:[{name:"literal",value:'"success"'},{name:"literal",value:'"info"'},{name:"literal",value:'"warning"'}]},description:"",defaultValue:{value:'"info"',computed:!1}},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},filePreview:{required:!1,tsType:{name:"union",raw:"File | null",elements:[{name:"File"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},customImage:{required:!1,tsType:{name:"string"},description:""},selectMenu:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},selectPlaceholder:{required:!1,tsType:{name:"string"},description:""},onSelectChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};const O={title:"molecules/Modal",tags:["autodocs"],component:p,decorators:[a=>n.jsx("div",{style:{width:"100%"},children:n.jsx(a,{})})]},M={args:{variant:"confirm",type:"info",isOpen:!0,onClose:()=>console.log("Modal closed")}};M.render=function(t){const[o,r]=s.useState(t.isOpen),l=()=>{r(!1),t.onClose()};return n.jsxs(n.Fragment,{children:[n.jsx(m,{style:"btn-dark",onClick:()=>r(!0),children:"Ouvrir Modal"}),n.jsxs(p,{...t,isOpen:o,onClose:l,children:[n.jsx("p",{children:"Êtes-vous sûr de vouloir continuer cette action?"}),n.jsx(m,{style:"btn-dark",onClick:l,children:"Confirmer"})]})]})};const U=["ConfirmModal"];export{M as ConfirmModal,U as __namedExportsOrder,O as default};
